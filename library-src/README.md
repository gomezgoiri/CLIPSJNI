Creating the CLIPSJNI Native Library
====================================

The CLIPSJNI distribution already contains a precompiled universal library for Mac OS X, libCLIPSJNI.jnilib, and for Windows, CLIPSJNI.dll, in the top level CLIPSJNI directory.
It is necessary to create a native library only if you are using the CLIPSJNI with an operating system other than Mac OS X or Windows.
You must also create the native library if you want to add new functionality to the CLIPSJNI package by adding additional native functions.
The steps for creating a native library varies between operating systems, so some research may be necessary to determine how to create one for your operating system.


Mac OS X
--------

Launch the Terminal application (located in the Applications/Utilities directory).
Set the directory to the CLIPSJNI/lbrary-src directory (using the cd command).
To create a universal native library that can run on both Intel and Power PC architectures, enter the following command:

    make -f makefile.macunv

You can ignore the following warnings generated when the CLIPSJNI_Environment.c file is compiled:

    CLIPSJNI_Environment.c:###: warning: cast to pointer from integer of different size

To create a native library that runs only on the Intel architecture, enter the following command:

    make -f makefile.macint

To create a native library that runs only on the Power PC architecture, enter the following command:

    make -f makefile.macppc

Once you have create the native library, copy the libCLIPSJNI.jnilib file from the CLIPSJNI/library-src to the top level CLIPSJNI directory.


Windows 7
---------

The following steps assume you have Microsoft Visual C++ 2010 Express installed.
First, launch the Command Prompt application (select Start > All Programs > Accessories > Command Prompt).
Set the directory to the CLIPSJNI/lbrary-src directory (using the cd command).
To create the native library DLL, enter the following command:

    nmake -f makefile.win

Once you have create the native library, copy the CLIPSJNI.dll file from the CLIPSJNI/library-src to the top level CLIPSJNI directory.


Other systems
-------------

The file makefile.linux is intended to generate a native library for Linux systems using Java version 1.4.2 onwards.
It can be invoked using the following command:

     make -f makefile.linux

The shared library generated by this makefile is libCLIPSJNI.so.
You will likely need to change the directory paths in the makefile to the appropriate location for your Java installation.